# Library Frontend

React приложение для управления библиотекой с использованием Bootstrap для адаптивной верстки.

## Технологии

- **React 18** - UI библиотека
- **TypeScript** - типизация
- **Vite** - сборщик и dev-сервер
- **React Router** - маршрутизация
- **Bootstrap 5** + **React Bootstrap** - адаптивная верстка
- **Axios** - HTTP клиент

## Структура проекта

```
src/
├── api/
│   └── client.ts              # API клиент для взаимодействия с backend
├── components/
│   ├── Auth/
│   │   ├── Login.tsx          # Компонент входа
│   │   └── Register.tsx       # Компонент регистрации
│   ├── Books/
│   │   ├── BookList.tsx       # Список книг с фильтрацией
│   │   ├── BookCard.tsx       # Карточка книги
│   │   └── BookDetail.tsx     # Детальная информация о книге
│   ├── Layout/
│   │   ├── Navbar.tsx         # Навигационная панель
│   │   └── Footer.tsx         # Подвал
│   ├── Reservations/
│   │   ├── ReservationsList.tsx  # Список бронирований пользователя
│   │   └── ReservationModal.tsx  # Модальное окно для создания бронирования
│   └── ProtectedRoute.tsx     # Компонент для защищенных маршрутов
├── contexts/
│   └── AuthContext.tsx        # Контекст для управления аутентификацией
├── types/
│   └── api.ts                 # TypeScript типы на основе OpenAPI спецификации
├── App.tsx                    # Главный компонент приложения
└── main.tsx                   # Точка входа
```

## Установка и запуск

1. Установите зависимости:
```bash
npm install
```

2. Создайте файл `.env` в корне проекта (опционально):
```
VITE_API_BASE_URL=http://localhost:8000
```

3. Запустите dev-сервер:
```bash
npm run dev
```

Приложение будет доступно по адресу `http://localhost:3000`

## Сборка для production

```bash
npm run build
```

## Основные функции

### Аутентификация
- Регистрация нового пользователя
- Вход в систему (OAuth2)
- Автоматическое сохранение токена
- Защищенные маршруты

### Каталог книг
- Просмотр списка всех книг
- Фильтрация по категориям
- Детальная информация о книге
- Отображение доступности экземпляров

### Бронирования
- Создание бронирования книги
- Просмотр своих бронирований
- Фильтрация по статусу (активные/завершенные/отмененные)

## API Endpoints

Приложение использует следующие endpoints:

- `POST /users/register` - Регистрация
- `POST /users/login` - Вход
- `GET /users/me` - Информация о текущем пользователе
- `GET /books/` - Список книг
- `GET /books/{book_id}` - Детали книги
- `GET /books/categories/list` - Список категорий
- `POST /reservations/` - Создание бронирования
- `GET /reservations/my` - Мои бронирования

## Особенности реализации

1. **Управление состоянием**: Используется React Context API для управления аутентификацией
2. **Типизация**: Все API запросы и ответы типизированы на основе OpenAPI спецификации
3. **Обработка ошибок**: Централизованная обработка ошибок в API клиенте
4. **Защита маршрутов**: Компонент `ProtectedRoute` для ограничения доступа
5. **Адаптивность**: Все компоненты используют Bootstrap для адаптивной верстки

